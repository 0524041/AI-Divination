"""台灣縣市經緯度資料(用於真太陽時校正)"""

TAIWAN_CITIES = {
    "台北市": {"lat": 25.0330, "lng": 121.5654},
    "新北市": {"lat": 25.0169, "lng": 121.4627},
    "桃園市": {"lat": 24.9936, "lng": 121.3010},
    "台中市": {"lat": 24.1477, "lng": 120.6736},
    "台南市": {"lat": 22.9998, "lng": 120.2269},
    "高雄市": {"lat": 22.6273, "lng": 120.3014},
    "基隆市": {"lat": 25.1276, "lng": 121.7392},
    "新竹市": {"lat": 24.8138, "lng": 120.9675},
    "新竹縣": {"lat": 24.8387, "lng": 121.0177},
    "苗栗縣": {"lat": 24.5602, "lng": 120.8214},
    "彰化縣": {"lat": 24.0518, "lng": 120.5161},
    "南投縣": {"lat": 23.9609, "lng": 120.9719},
    "雲林縣": {"lat": 23.7092, "lng": 120.4313},
    "嘉義市": {"lat": 23.4800, "lng": 120.4491},
    "嘉義縣": {"lat": 23.4518, "lng": 120.2554},
    "屏東縣": {"lat": 22.5519, "lng": 120.5487},
    "宜蘭縣": {"lat": 24.7021, "lng": 121.7378},
    "花蓮縣": {"lat": 23.9871, "lng": 121.6015},
    "台東縣": {"lat": 22.7583, "lng": 121.1444},
    "澎湖縣": {"lat": 23.5712, "lng": 119.5793},
    "金門縣": {"lat": 24.4489, "lng": 118.3767},
    "連江縣": {"lat": 26.1605, "lng": 119.9297},
}

# 標準時區經度(東經 120 度)
STANDARD_MERIDIAN = 120.0


def calculate_solar_time_offset(location: str) -> int:
    """
    計算真太陽時校正(以分鐘為單位)

    Args:
        location: 台灣縣市名稱

    Returns:
        校正分鐘數(正數表示加,負數表示減)
    """
    if location not in TAIWAN_CITIES:
        return 0

    lng = TAIWAN_CITIES[location]["lng"]
    # 每 1 度經度差異 = 4 分鐘
    offset_minutes = int((lng - STANDARD_MERIDIAN) * 4)
    return offset_minutes
